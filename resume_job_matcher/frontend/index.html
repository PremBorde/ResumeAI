<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ResumeAI ‚Äî Match & Gap Analysis</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Syne:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <div class="noise"></div>
  <div class="gradient-orb orb-1"></div>
  <div class="gradient-orb orb-2"></div>
  <div class="gradient-orb orb-3"></div>

  <header class="header" role="banner">
    <a class="logo" href="#" id="nav-home" aria-label="ResumeAI Home">
      <span class="logo-icon" aria-hidden="true">‚óà</span>
      <span class="logo-text">Resume<em>AI</em></span>
    </a>
    <nav class="nav" aria-label="Primary">
      <a href="#" class="nav-link active" data-page="page-analyze">Analyze</a>
      <a href="#" class="nav-link" data-page="page-compare">Compare</a>
      <a href="#" class="nav-link" data-page="page-export">Export</a>
    </nav>
  </header>

  <main class="main">
    <!-- Analyze page -->
    <section class="page" id="page-analyze" aria-label="Analyze">
      <!-- Step 1: Upload -->
      <section class="step step-upload active" id="step-upload">
      <div class="step-header">
        <h1 class="step-title">Upload Your Resume</h1>
        <p class="step-subtitle">PDF or DOCX ‚Äî we'll extract everything</p>
      </div>

      <div class="upload-zone" id="upload-zone">
        <div class="upload-icon">
          <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M32 44V20M32 20L22 30M32 20L42 30"/>
            <path d="M12 44v8a4 4 0 004 4h32a4 4 0 004-4v-8"/>
          </svg>
        </div>
        <p class="upload-text">Drop your resume here</p>
        <p class="upload-hint">or click to browse</p>
        <input type="file" id="file-input" accept=".pdf,.docx" hidden>
      </div>

      <div class="file-preview hidden" id="file-preview">
        <div class="file-info">
          <span class="file-icon">üìÑ</span>
          <div class="file-details">
            <span class="file-name" id="file-name">resume.pdf</span>
            <span class="file-size" id="file-size">245 KB</span>
          </div>
        </div>
        <button class="btn-remove" id="btn-remove">√ó</button>
      </div>

      <button class="btn-primary" id="btn-upload" disabled>
        <span class="btn-text">Upload & Extract</span>
        <span class="btn-loader"></span>
      </button>
      </section>

      <!-- Step 2: Job Description -->
      <section class="step step-jd hidden" id="step-jd">
      <div class="step-header">
        <h1 class="step-title">Paste Job Description</h1>
        <p class="step-subtitle">We'll analyze requirements & match your skills</p>
      </div>

      <div class="resume-summary" id="resume-summary">
        <div class="summary-header">
          <span class="summary-icon">‚úì</span>
          <span class="summary-title">Resume Processed</span>
        </div>
        <div class="summary-skills" id="summary-skills"></div>
      </div>

      <div class="textarea-wrapper">
        <textarea 
          id="jd-input" 
          class="jd-textarea" 
          placeholder="Paste the full job description here..."
          rows="12"
        ></textarea>
      </div>

      <div class="btn-group">
        <button class="btn-secondary" id="btn-back-upload">‚Üê Back</button>
        <button class="btn-primary" id="btn-analyze" disabled>
          <span class="btn-text">Analyze Match</span>
          <span class="btn-loader"></span>
        </button>
      </div>
      </section>

      <!-- Step 3: Results -->
      <section class="step step-results hidden" id="step-results">
      <div class="step-header">
        <h1 class="step-title">Match Analysis</h1>
        <p class="step-subtitle">AI-powered insights for your application</p>
      </div>

      <div class="results-grid">
        <!-- Score Card -->
        <div class="result-card score-card">
          <div class="card-header">
            <h3>Match Score</h3>
          </div>
          <div class="score-display">
            <svg class="score-ring" viewBox="0 0 120 120">
              <circle class="score-ring-bg" cx="60" cy="60" r="54"/>
              <circle class="score-ring-fill" cx="60" cy="60" r="54" id="score-ring"/>
            </svg>
            <div class="score-value">
              <span class="score-number" id="score-number">0</span>
              <span class="score-percent">%</span>
            </div>
          </div>
          <div class="score-breakdown">
            <div class="breakdown-item">
              <span class="breakdown-label">Semantic</span>
              <div class="breakdown-bar">
                <div class="breakdown-fill" id="semantic-bar" style="width: 0%"></div>
              </div>
              <span class="breakdown-value" id="semantic-value">0</span>
            </div>
            <div class="breakdown-item">
              <span class="breakdown-label">Skills</span>
              <div class="breakdown-bar">
                <div class="breakdown-fill skills" id="skills-bar" style="width: 0%"></div>
              </div>
              <span class="breakdown-value" id="skills-value">0</span>
            </div>
          </div>
        </div>

        <!-- Skill Gap Card -->
        <div class="result-card gap-card">
          <div class="card-header">
            <h3>Skill Analysis</h3>
          </div>
          <div class="skill-sections">
            <div class="skill-section matching">
              <div class="section-header">
                <span class="section-icon">‚úì</span>
                <span class="section-title">Matching Skills</span>
                <span class="section-count" id="matching-count">0</span>
              </div>
              <div class="skill-chips" id="matching-skills"></div>
            </div>
            <div class="skill-section missing">
              <div class="section-header">
                <span class="section-icon">!</span>
                <span class="section-title">Missing Required</span>
                <span class="section-count" id="missing-count">0</span>
              </div>
              <div class="skill-chips" id="missing-skills"></div>
            </div>
            <div class="skill-section nice">
              <div class="section-header">
                <span class="section-icon">‚òÖ</span>
                <span class="section-title">Nice to Have</span>
                <span class="section-count" id="nice-count">0</span>
              </div>
              <div class="skill-chips" id="nice-skills"></div>
            </div>
          </div>
        </div>

        <!-- ChatGPT Prompt Section -->
        <div class="result-card chatgpt-prompt-card">
          <div style="display: flex; align-items: center; gap: var(--space-md); flex-wrap: wrap;">
            <div style="flex: 1; min-width: 300px;">
              <h3 style="margin: 0 0 var(--space-xs) 0; font-family: var(--font-display); font-size: 1.25rem; font-weight: 400;">AI-Powered Action Plan</h3>
              <p style="margin: 0; color: var(--text-secondary); font-size: 0.9rem;">Get a tailored ChatGPT prompt to improve your resume based on missing skills and ATS gaps</p>
            </div>
            <div style="display: flex; gap: var(--space-sm); flex-wrap: wrap;">
              <button class="btn-primary btn-chatgpt-prompt" id="btn-copy-chatgpt-prompt" type="button" style="padding: 0.75rem 1.5rem; font-size: 1rem; white-space: nowrap;">
                <span style="margin-right: var(--space-xs);">üìã</span>
                Copy ChatGPT Prompt
              </button>
              <button class="btn-secondary btn-chatgpt-prompt" id="btn-copy-chatgpt-overleaf" type="button" style="padding: 0.75rem 1.5rem; font-size: 1rem; white-space: nowrap;">
                <span style="margin-right: var(--space-xs);">üìÑ</span>
                Copy Overleaf Prompt
              </button>
            </div>
          </div>
        </div>

        <!-- Suggestions Card -->
        <div class="result-card suggestions-card">
          <div class="card-header">
            <h3>AI Recommendations</h3>
            <span class="ai-badge">Gemini</span>
          </div>
          <div class="suggestions-content" id="suggestions-content">
            <div class="suggestion-loading">
              <div class="typing-indicator">
                <span></span><span></span><span></span>
              </div>
              <p>Generating personalized suggestions...</p>
            </div>
          </div>
        </div>

        <!-- ATS Card -->
        <div class="result-card ats-card">
          <div class="card-header">
            <h3>ATS Checklist</h3>
            <span class="ai-badge">Rules</span>
          </div>
          <div class="suggestions-content" id="ats-content">
            <p style="color: var(--text-muted); font-style: italic;">Run an analysis to see ATS checks.</p>
          </div>
        </div>

        <!-- Job Insights Card -->
        <div class="result-card">
          <div class="card-header">
            <h3>Job Insights</h3>
            <span class="ai-badge">Analysis</span>
          </div>
          <div class="suggestions-content" id="job-insights-content">
            <p style="color: var(--text-muted); font-style: italic;">Run an analysis to see job insights.</p>
          </div>
        </div>

      </div>

      <div class="btn-group">
        <button class="btn-secondary" id="btn-new">‚Üê New Analysis</button>
        <button class="btn-primary" id="btn-download">
          <span class="btn-text">Download Report</span>
        </button>
      </div>
      </section>
    </section>

    <!-- Compare page (placeholder; feature implemented next) -->
    <section class="page hidden page-compare-wide" id="page-compare" aria-label="Compare">
      <div class="step-header">
        <h1 class="step-title">Compare Multiple Job Descriptions</h1>
        <p class="step-subtitle">Paste multiple JDs, rank them, and drill into gaps.</p>
      </div>
      <div id="compare-resume-warning" style="display:none; margin-bottom: var(--space-lg); padding: 0.9rem; border: 1px solid var(--border); border-radius: var(--radius-md); background: rgba(255,255,255,0.03); color: var(--text-secondary);">
        Upload a resume first (Analyze ‚Üí Upload) to enable comparison.
      </div>

      <div class="result-card" style="padding: var(--space-lg);">
        <div style="display:flex; gap: var(--space-md); justify-content: space-between; flex-wrap: wrap; align-items: center; margin-bottom: var(--space-md);">
          <div style="color: var(--text-secondary); font-size: 0.9rem;">
            Add 2‚Äì10 job descriptions and run a ranked comparison.
          </div>
          <div style="display:flex; gap: var(--space-sm);">
            <button class="btn-secondary" id="btn-add-jd" type="button">+ Add JD</button>
            <button class="btn-primary" id="btn-run-compare" type="button">Run Compare</button>
          </div>
        </div>

        <div id="compare-jds"></div>
        <div id="compare-results" style="margin-top: var(--space-xl);"></div>
      </div>
    </section>

    <!-- Export page -->
    <section class="page hidden" id="page-export" aria-label="Export">
      <div class="step-header">
        <h1 class="step-title">Export & Tailor</h1>
        <p class="step-subtitle">Download reports and generate tailored resume bullets.</p>
      </div>
      <div class="result-card" style="padding: var(--space-xl);">
        <div id="export-warning" style="display:none; margin-bottom: var(--space-lg); padding: 0.9rem; border: 1px solid var(--border); border-radius: var(--radius-md); background: rgba(255,255,255,0.03); color: var(--text-secondary);">
          Run an analysis first to enable exports.
        </div>

        <!-- Export Actions Section -->
        <div class="export-actions-section">
          <h3 class="export-section-title" style="margin: 0 0 var(--space-md) 0;">Download Reports</h3>
          <p class="export-section-subtitle" style="margin: 0 0 var(--space-md) 0;">Export your analysis results in various formats.</p>
          <div class="export-actions">
            <button class="btn-primary" id="btn-export-json" type="button">Download JSON Report</button>
            <button class="btn-secondary" id="btn-export-pdf" type="button">Download PDF Report</button>
            <button class="btn-secondary" id="btn-export-docx-bullets" type="button">DOCX: Tailored Bullets</button>
          </div>
        </div>

        <!-- Cover Letter Section -->
        <div class="export-cover-letter-section">
          <div class="export-layout">
            <!-- Left: Cover Letter Generator -->
            <div class="export-left">
              <h3 class="export-section-title" style="margin: 0 0 var(--space-sm) 0;">Message Generator</h3>
              <p class="export-section-subtitle" style="margin: 0 0 var(--space-lg) 0;">Generate tailored messages for job applications.</p>
              
              <div class="export-form-grid">
                <div>
                  <label class="export-label">Your Name</label>
                  <input type="text" id="cover-letter-name" class="jd-textarea export-input" placeholder="John Doe" />
                </div>
                <div>
                  <label class="export-label">Your Email</label>
                  <input type="email" id="cover-letter-email" class="jd-textarea export-input" placeholder="john@example.com" />
                </div>
              </div>

              <div style="margin-top: var(--space-md);">
                <label class="export-label">Company Name (Optional)</label>
                <input type="text" id="cover-letter-company" class="jd-textarea export-input" placeholder="Acme Corporation" />
              </div>

              <div style="margin-top: var(--space-lg);">
                <button class="btn-primary" id="btn-generate-cover-letter" type="button">
                  <span class="btn-text">Generate Messages</span>
                  <span class="btn-loader"></span>
                </button>
              </div>
            </div>

            <!-- Right: Generated Messages Output -->
            <div class="export-right">
              <h3 class="export-section-title" style="margin: 0 0 var(--space-sm) 0;">Generated Messages</h3>
              
              <!-- Empty State (shown initially) -->
              <div id="cover-letter-empty" class="export-output-empty">
                <p style="color: var(--text-muted); font-style: italic; text-align: center; padding: var(--space-md);">Generate messages to see them here.</p>
              </div>

              <!-- Generated Messages View (shown after generation) -->
              <div id="cover-letter-generated-view" style="display: none;">
                <p class="export-section-subtitle" style="margin: 0 0 var(--space-md) 0;">Choose a message type to view and download.</p>
                
                <!-- Option Tabs -->
                <div style="display: flex; gap: var(--space-sm); margin-bottom: var(--space-md); flex-wrap: wrap;">
                  <button class="btn-primary message-type-btn active" data-type="cover-letter" id="btn-option-cover-letter" style="font-size: 0.875rem; padding: 0.5rem 1rem;">
                    1. Cover Letter
                  </button>
                  <button class="btn-secondary message-type-btn" data-type="linkedin" id="btn-option-linkedin" style="font-size: 0.875rem; padding: 0.5rem 1rem;">
                    2. LinkedIn Message
                  </button>
                  <button class="btn-secondary message-type-btn" data-type="coldmail" id="btn-option-coldmail" style="font-size: 0.875rem; padding: 0.5rem 1rem;">
                    3. Cold Mail to HR
                  </button>
                </div>

                <!-- Cover Letter Output -->
                <div id="output-cover-letter" class="message-output" style="display: block;">
                  <textarea id="cover-letter-text" class="jd-textarea export-output-text" rows="16" readonly></textarea>
                  <div class="export-output-actions">
                    <button class="btn-secondary" id="btn-copy-cover-letter" type="button">Copy</button>
                    <button class="btn-secondary" id="btn-download-cover-letter" type="button">Download as TXT</button>
                  </div>
                </div>

                <!-- LinkedIn Message Output -->
                <div id="output-linkedin" class="message-output" style="display: none;">
                  <textarea id="linkedin-message-text" class="jd-textarea export-output-text" rows="16" readonly></textarea>
                  <div class="export-output-actions">
                    <button class="btn-secondary" id="btn-copy-linkedin" type="button">Copy</button>
                    <button class="btn-secondary" id="btn-download-linkedin" type="button">Download as TXT</button>
                  </div>
                </div>

                <!-- Cold Mail Output -->
                <div id="output-coldmail" class="message-output" style="display: none;">
                  <textarea id="coldmail-text" class="jd-textarea export-output-text" rows="16" readonly></textarea>
                  <div class="export-output-actions">
                    <button class="btn-secondary" id="btn-copy-coldmail" type="button">Copy</button>
                    <button class="btn-secondary" id="btn-download-coldmail" type="button">Download as TXT</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    
    <p style="margin-top: var(--space-sm); font-size: 0.875rem;">
      <a href="/docs" target="_blank" rel="noopener" style="color: var(--accent); text-decoration: none;">API Documentation</a>
      <span style="margin: 0 var(--space-sm); color: var(--text-muted);">‚Ä¢</span>
      <span style="color: var(--text-muted);">Match resumes with job descriptions using AI</span>
    </p>
  </footer>

  <!-- Welcome Modal -->
  <div id="welcome-modal" class="welcome-modal" style="display: none;">
    <div class="welcome-modal-overlay"></div>
    <div class="welcome-modal-content">
      <div style="text-align: center; padding: var(--space-lg);">
        <div style="font-size: 2rem; margin-bottom: var(--space-sm);">üëã</div>
        <h2 style="margin: 0 0 var(--space-xs) 0; font-family: var(--font-display); font-size: 1.5rem; font-weight: 400; color: var(--text-primary);">
          Welcome to ResumeAI
        </h2>
        <p style="margin: 0 0 var(--space-md) 0; color: var(--text-secondary); font-size: 0.9rem; line-height: 1.5;">
          Match your resume with job descriptions using AI-powered analysis.
        </p>
        <div style="display: flex; gap: var(--space-sm); margin-top: var(--space-md);">
          <button class="btn-primary" id="btn-welcome-start" style="flex: 1; padding: 0.65rem 1.25rem; font-size: 0.9rem;">
            Get Started
          </button>
          <button class="btn-secondary" id="btn-welcome-close" style="flex: 1; padding: 0.65rem 1.25rem; font-size: 0.9rem;">
            Close
          </button>
        </div>
      </div>
    </div>
  </div>

  <script src="/static/app.js"></script>
</body>
</html>

